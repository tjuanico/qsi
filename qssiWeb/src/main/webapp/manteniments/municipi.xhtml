<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core" 
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui">
	
	<ui:composition template="/WEB-INF/facelets/templates/defaultLayout.xhtml">
	   <ui:define name="title">
	      Queixes i suggeriments - CAIB - Manteniments - Centres gestors - Municipis
	   </ui:define>
	   <ui:define name="content">
	     <h:form>
			<!-- Contigut-->
			<p:panel id="principal" header="Llista de Municipis" footer="" style="margin-bottom:20px">
			    <div style='margin-top:10px; margin-left:10px;'>
					<div>
						<p:selectOneMenu id="illa" value="#{municipiController.illa}">
							<p:ajax listener="#{municipiController.onCentre_change}" update="municipi"/>
							<f:selectItem itemLabel="Selecciona Illa" itemValue="" noSelectionOption="true" />
            				<f:selectItems value="#{municipiController.llista_Illes}" var="illa" itemLabel="#{illa.nom}" itemValue="#{illa.id}"/>
        				</p:selectOneMenu>
				    </div>
				</div>
				<div style='margin-top: 15px;'>
					<p:dataTable id="municipi" var="element" value="#{municipiController.llista_Municipis}" emptyMessage="No s'han trobat registres.">
    					<p:column headerText="Identificador" width="10%"><h:outputText value="#{element.id}" /></p:column>
    					<p:column headerText="Nom" width="35%"><h:outputText value="#{element.nom}" /></p:column>
			    		<p:column headerText="Data creació" width="10%">
			    		<h:outputText value="#{element.datacreacio}" >
			    			<f:convertDateTime pattern="dd/MM/yyyy" />
			    		</h:outputText>
			    		</p:column>
			    		<p:column headerText="Usuari" width="10%"><h:outputText value="#{element.usuari}" /></p:column>
			    		<p:column headerText="Actiu" width="10%">
			    			<h:outputText value="#{element.actiu=='true' ? 'Sí' : 'No'}" />
			    		</p:column>
			    		<p:column headerText="Accions" width="5%"></p:column>
					</p:dataTable>
				</div>
    		</p:panel>
		</h:form>
		</ui:define>
    </ui:composition>
</html>